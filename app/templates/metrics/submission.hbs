{{log this.model.submission}}
<header>
  <h3>{{model.submission.student}}'s Answer</h3>
</header>
<p><LinkTo @route="metrics">back</LinkTo></p>
<div class="metrics__container">
    <div class="metrics__container metrics--flex">
    <button {{on "click" this.toggleShowWorkspaces}} class="primary-button">Show Workspaces</button>
    {{!-- <button {{on "click" this.toggleShowData}} class="primary-button">Show Data</button> --}}
</div>
  <div class="metrics__container" id="submission">
    <div class="metrics__card">
    <h3>answer</h3>
      <ExpandableCell @text={{if this.model.submission.shortAnswer this.model.submission.shortAnswer this.model.submission.answer.answer}} />
    </div>
    <div class="metrics__card">
    <h3>explanation</h3>
      <ExpandableCell @text={{if this.model.submission.longAnswer this.model.submission.longAnswer this.model.submission.answer.explanation}} />
    </div>
  </div>
<ul>
  {{#if this.showWorkspaces}}
  {{#each this.model.allSubmissions as |submission|}}
    <li>
      <label><Input @type="checkbox" @checked={{is-in this.selectedWorkspaces submission}} {{on "change" (fn this.updateSelectedWorkspaces submission)}} />
        {{#each submission.workspaces as |workspace|}}
          {{workspace.name}} - {{workspace.owner.username}}
        {{/each}}
      </label>
    </li>
  {{/each}}
  {{/if}}
</ul>
<h2>Data</h2>
{{#each selectedWorkspaces as |submission|}}
  <h3>Workspace</h3>
  {{#each submission.workspaces as |workspace|}}
    <p>Name: {{workspace.name}}</p>
    <p>Owner: {{workspace.owner.username}}</p>
  {{/each}}
  <h3>Selections:</h3>
  <table>
    <thead>
      <tr>
        <th>
          selection
        </th>
        <th>
          comments
        </th>
        <th>
          folder
        </th>
      </tr>
    </thead>
    <tbody>
      {{#each submission.selections as |selection|}}
        <tr>
          <td>
            {{selection.text}}
          </td>
          <td>
            <ul>
              {{#each selection.comments as |comment|}}
                <li>{{comment.text}}</li>
              {{/each}}
            </ul>
          </td>
          <td>
            <ul>
              {{#each selection.folder as |folder|}}
                <li>{{folder.name}}</li>
              {{/each}}
            </ul>
          </td>
        </tr>
      {{/each}}
    </tbody>
  </table>
{{/each}}
</div>
<p><LinkTo @route="metrics">back</LinkTo></p>