<div class='home--container'>
  <h1 {{on 'click' this.updateIsExpanded}}>{{@item.label}}
    -
    {{@item.details.length}}
    {{pluralize @item.details.length 'item'}}</h1>
  {{#if this.isExpanded}}
    {{#if @showTable}}
      <EmberTable as |t|>
        <t.head
          @columns={{@tableColumns}}
          @scrollIndicators='all'
          @widthConstraint='eq-container'
        />
        <t.body @rows={{@item.details}} as |b|>
          <b.row as |r|>
            <r.cell
              as |cellValue columnValue rowValue cellMeta columnMeta rowMeta|
            >
              {{#if (is-equal columnValue.name 'Workspace')}}
                <LinkTo
                  @route={{'workspace.work'}}
                  @model={{rowValue.id}}
                >{{cellValue}}</LinkTo>
              {{else if (is-equal columnValue.name 'Assignment')}}
                <LinkTo
                  @route={{'assignments.assignment'}}
                  @model={{rowValue.id}}
                >{{cellValue}}</LinkTo>
              {{else}}
                {{format-date cellValue 'MM/DD/YYYY'}}
              {{/if}}
            </r.cell>
          </b.row>
        </t.body>
      </EmberTable>
    {{else}}
      <div class='grid-home'>
        {{#each @item.details as |detail|}}
          <article class='grid-card'>
            <header class='grid-card__title'>
              <h2><LinkTo
                  class='grid-card--light'
                  @route='workspace.work'
                  @model={{detail.id}}
                >{{detail.name}}</LinkTo></h2>
            </header>
            <ul class='grid-card__info'>
              {{#each @tableColumns as |row|}}
                <li>{{row.name}}:
                  {{format-date
                    (get-attr detail row.valuePath)
                    'MM/DD/YYYY'
                  }}</li>
              {{/each}}
            </ul>
          </article>
        {{/each}}
      </div>
    {{/if}}
  {{/if}}
</div>